<div class="h-48 glass-panel border-t border-white/10 flex flex-col font-mono text-xs overflow-hidden animate-slide-up"
    x-data="{ 
        logs: [], 
        autoScroll: true,
        connect() {
            const eventSource = new EventSource('/api/logs/stream');
            eventSource.onmessage = (event) => {
                this.logs.push(event.data);
                if (this.logs.length > 200) this.logs.shift();
                if (this.autoScroll) {
                    this.$nextTick(() => {
                        this.$refs.logContainer.scrollTop = this.$refs.logContainer.scrollHeight;
                    });
                }
            };
            eventSource.onerror = () => {
                console.error('Log stream disconnected. Reconnecting...');
                eventSource.close();
                setTimeout(() => this.connect(), 3000);
            };
        }
     }" x-init="connect()">

    <!-- Terminal Header -->
    <div class="px-4 py-2 bg-black/40 border-b border-white/5 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></div>
            <span class="text-[10px] font-bold tracking-widest text-white/40 uppercase">Terminal HUD</span>
        </div>
        <div class="flex items-center gap-4">
            <label class="flex items-center gap-2 cursor-pointer group">
                <input type="checkbox" x-model="autoScroll" class="hidden">
                <div class="w-7 h-4 bg-white/10 rounded-full relative transition-colors"
                    :class="autoScroll ? 'bg-cyan-500/30' : ''">
                    <div class="absolute top-0.5 left-0.5 w-3 h-3 bg-white/60 rounded-full transition-transform"
                        :class="autoScroll ? 'translate-x-3 bg-white' : ''"></div>
                </div>
                <span class="text-[9px] text-white/30 group-hover:text-white/60 transition-colors uppercase">Auto
                    Scroll</span>
            </label>
            <button @click="logs = []" class="text-white/20 hover:text-white/60 transition-colors">
                <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
            </button>
        </div>
    </div>

    <!-- Log Content -->
    <div x-ref="logContainer" class="flex-1 overflow-y-auto p-4 space-y-1 selection:bg-cyan-500/30">
        <template x-for="(log, index) in logs" :key="index">
            <div class="flex gap-3">
                <span class="text-white/20 select-none w-8 text-right" x-text="index + 1"></span>
                <span class="text-white/80 break-all whitespace-pre-wrap" x-text="log"></span>
            </div>
        </template>

        <div x-show="logs.length === 0" class="h-full flex flex-col items-center justify-center opacity-10 grayscale">
            <i data-lucide="terminal" class="w-12 h-12 mb-2"></i>
            <p class="text-[10px] uppercase tracking-[0.2em]">Awaiting system output...</p>
        </div>
    </div>
</div>

<script>
    lucide.createIcons();
</script>